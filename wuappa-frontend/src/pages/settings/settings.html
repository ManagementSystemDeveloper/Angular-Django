<!--
  Generated template for the SettingsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

<navbar [title]="title"></navbar>

</ion-header>


<ion-content>
  <div class="settings-data" *ngIf="!editView">
    <ion-row>
      <div class="profile-image" [ngStyle]="getBackgroundProfile()">
        <div class="edit-button" (click)="editView = true">
          <i class="fa fa-pencil"></i>
        </div>
      </div>
    </ion-row>
    <ion-row *ngIf="user">
      <ion-list>
        <ion-item>
          <h4>{{'Name' | translate}}</h4>
          <p>{{user.first_name}}</p>
        </ion-item>
        <ion-item>
          <h4>{{'Surname' | translate}} </h4>
          <p>{{user.last_name}}</p>
        </ion-item>
        <ion-item>
          <h4>{{'E-mail' | translate}} </h4>
          <p>{{user.email}}</p>
        </ion-item>
        <ion-item>
          <h4>{{'Mobile' | translate}} </h4>
          <p>{{user.profile.phone}}</p>
        </ion-item>
        <ion-item>
          <h4>{{'Language' | translate}}</h4>
          <p *ngIf="user.profile.language == 'en'">{{'English' | translate}} </p>
          <p *ngIf="user.profile.language == 'fr'">{{'French' | translate}} </p>
        </ion-item>
        <ion-item>
          <h4>{{'Password' | translate}} </h4>
          <p>*****</p>
        </ion-item>
      </ion-list>
    </ion-row>
  </div>
  <div class="settings-edit" *ngIf="editView">
    <form [formGroup]="form" (ngSubmit)="saveProfile()">
      <ion-row>
        <div class="profile-image" [ngStyle]="getBackgroundProfile()">
          <image-uploader (onUploadFinished)="changeImage($event)">
            <ion-icon name="md-camera"></ion-icon>
          </image-uploader>
          <button  role="button" type="submit" class="edit-button">
            <i class="fa fa-save"></i>
          </button>
        </div>
      </ion-row>
      <ion-row>
        <ion-list>
          <ion-item>
            <ion-label>{{'Name' | translate}}</ion-label><br>
            <ion-input formControlName="first_name" placeholder="{{'Name' | translate}}" value="{{user.first_name}}" (click)="inputCliked('name')"></ion-input>
            <button [hidden]="showIcon != 'name'" item-right ion-button class="clear-input-button" (click)="clearInput($event)">
            <ion-icon  name="ios-close"></ion-icon>
          </button>
          </ion-item>
          <ion-item>
            <ion-label>{{'Surname' | translate}}</ion-label>
            <br>
            <ion-input formControlName="last_name" placeholder="{{'Surname' | translate}}" value="{{user.last_name}}" (click)="inputCliked('surname')"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>{{'E-mail' | translate}}</ion-label>
            <br>
            <ion-input formControlName="email" placeholder="{{'Email' | translate}}" value="{{user.email}}" (click)="inputCliked('email')"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>{{'Mobile' | translate}}</ion-label>
            <br>
            <ion-input placeholder="{{'Mobile' | translate}}" formControlName="phone" value="{{user.profile.phone}}" (click)="inputCliked('mobile')"></ion-input>
          </ion-item>
          <ion-item class="language-item">
            <ion-label>{{'Language' | translate}}</ion-label>
            <ion-select formControlName="language" okText="{{'OK' | translate}}" cancelText="{{'Cancel' | translate}}">
              <ion-option value="en">English</ion-option>
              <ion-option value="fr">FranÃ§ais </ion-option>
            </ion-select>
          </ion-item>
          <ion-item (click)="goToChangePasswordPage()">
            <ion-label>{{'Password' | translate}}</ion-label>
            <br>
            <ion-input placeholder="{{'Password' | translate}}" value="******" ></ion-input >
            <button item-right ion-button type="button" class="go-to-change-password">
              <ion-icon name="ios-arrow-forward"></ion-icon>
            </button>
          </ion-item>
        </ion-list>
      </ion-row>
    </form>
  </div>
</ion-content>
